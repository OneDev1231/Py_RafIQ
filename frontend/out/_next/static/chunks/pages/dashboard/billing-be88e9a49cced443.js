(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{73789:function(e,x,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/billing",function(){return t(64242)}])},64242:function(e,x,t){"use strict";t.r(x),t.d(x,{default:function(){return g}});var a=t(85893),d=t(67294),p=t(70947),r=t(86664),m=t(54465),l=t(25675),i=t.n(l),n={src:"/_next/static/media/logo.de3ba484.png",height:58,width:58,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAclBMVEViWv5iWv5hWf5kXP5jW/5jW/5xav5lXf5kXf5oYP5nYP5lXf5kXf5jXP5jW/719f708/7Ixv7Fw/7Ewv7Bv/6+vP66uP6Ae/58d/5sZf5iWv5iWf5hWf5gWP5fV/5fVv5bUv5aUP5NQf5MQP5LPv5JPf7V7n0MAAAAD3RSTlMAKirBwe75+fn6+vr6+vpMcXPwAAAAR0lEQVR42g3LWQJAMAwFwBdSpfadJnbuf0X9nwGInWMCyOh7iyGw2HGwyijOpenEVyi3ta/nK0d8JO2UekZk9u/RgEPPHBN+gB4DkNWym4UAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},s=t(24510),c=t(19982),o=t(69841),u=t(49472);let f=()=>{let e=(0,r.useStripe)(),x=(0,r.useElements)(),{notifySuccess:t,notifyError:p}=(0,c.d$)(),{c_state:m,c_dispatch:l}=(0,d.useContext)(u.q),i=async()=>{let{status:e,data:x}=await s.b.getPaymentMethods();"ok"===e&&l({type:o.U.SetCard,payload:{data:x}})},n=async a=>{if(a.preventDefault(),!e||!x)return;let{error:d}=await e.confirmSetup({elements:x,redirect:"if_required",confirmParams:{return_url:"https://example.com/account/payments/setup-complete"}});d?p(d.message):(i(),t("Card Added Successfully"))};return(0,a.jsx)("div",{className:"p-6 max-w-md",children:(0,a.jsxs)("form",{onSubmit:n,children:[(0,a.jsx)(r.PaymentElement,{}),(0,a.jsx)("button",{disabled:!e,className:"text-white bg-[#ff9100] hover:bg-[#ee8000] rounded-sm px-10 py-[0.35rem] mt-3",children:"Submit"})]})})},b=()=>{let[e,x]=(0,d.useState)(!1),[t,p]=(0,d.useState)(!1),[l,o]=(0,d.useState)(),[u,b]=(0,d.useState)(),{notifyError:h}=(0,c.d$)(),g=async e=>{e.preventDefault(),x(!0);let{status:t,setupIntent:a,publish_key:d}=await s.b.getNewSetupIntent();x(!1),"OK"===t?(o((0,m.J)(d)),b({clientSecret:a}),p(!0)):h("Stripe loading error!")};return(0,c.yp)(e),(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("div",{className:"pt-[160px] pb-[400px] rounded-[3px] flex justify-center max-xl:pt-[70px] max-md:pt-[156px] max-md:px-[10px]",children:(0,a.jsx)("div",{className:"bg-[#FFFFFF] dark:bg-[#f9f9fc10] dark:border-[#0000001A] rounded-[8px] border-[1px] border-solid border-[#0000001A] py-[42px] px-[55px] align-center text-center max-w-[480px] max-xl:max-w-[420px] max-xl:px-[25px] max-xl:py-[35px] max-md:max-w-[309px] max-md:py-[20px] max-md:px-[27px]",children:(0,a.jsx)(r.Elements,{stripe:l,options:u,children:(0,a.jsx)(f,{})})})}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"md:hidden mx-[10px] py-[22px] border-b-[1px] border-[#0000001F] dark:border-[#FFFFFF21] border-solid  font-[500] text-[16px] text-[#000000] dark:text-[#FFFFFF] leading-[22px] capitalize text-center",children:"Billing info"}),(0,a.jsx)("div",{className:"pt-[160px] pb-[400px] rounded-[3px] flex justify-center max-xl:pt-[70px] max-md:pt-[156px] max-md:px-[10px]",children:(0,a.jsxs)("div",{className:"bg-[#FFFFFF] dark:bg-[#f9f9fc10] dark:border-[#0000001A] rounded-[8px] border-[1px] border-solid border-[#0000001A] py-[42px] px-[55px] align-center text-center max-w-[480px] max-xl:max-w-[420px] max-xl:px-[25px] max-xl:py-[35px] max-md:max-w-[309px] max-md:py-[20px] max-md:px-[27px]",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(i(),{src:n,alt:"",className:"mx-auto w-[55px] h-auto"})}),(0,a.jsx)("h1",{className:"mt-[26px] mb-[12px] font-[700] text-[24px] text-[#000000] dark:text-[#FFFFFF] leading-[32px] capitalize max-xl:text-[20px] max-xl:leading-[27px] max-xl:mt-[15px] max-xl:mb-[11px] max-md:text-[18px] max-md:leading-[24px] max-md:mt-[20px] maxmd:mb-[12px]",children:"Lorem ipsum dolor sit."}),(0,a.jsx)("p",{className:"font-[500] text-[15px] text-[#999999] leading-[20px] mb-[33px] capitalize max-xl:text-[13px] max-xl:leading-[18px] max-xl:mb-[18px] max-md:text-[12px] max-md:leading-[16px] max-md:mb-[20px]",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris consectetur faucibus sem vel molestie."}),(0,a.jsx)("button",{onClick:g,className:"font-[500] text-[14px] text-[#FDFDFD] leading-[19px] bg-[#635AFF] rounded-[8px] px-[54px] py-[10px] capitalize hover:cursor-pointer hover:opacity-70 max-xl:text-[14px] max-xl:leading-[19px] max-md:text-[12px] max-md:leading-[16px] max-md:w-full",children:"Open Stripe"})]})})]})})},h=()=>{let[e,x]=(0,d.useState)(),{notifyError:t}=(0,c.d$)(),{c_state:r,c_dispatch:m}=(0,d.useContext)(u.q),[l,i]=(0,d.useState)(!1),n=async()=>{i(!0);let{status:e,data:a}=await s.b.getPaymentMethods();i(!1),"ok"!==e?t("Error while loading card"):(x(a),m({type:o.U.SetCard,payload:{data:a}}))};return(0,d.useEffect)(()=>{r.card||n()},[]),(0,c.yp)(l),(0,a.jsx)(p.Z,{children:r.card&&""!==r.card.exp_year?(0,a.jsx)("div",{className:"pt-[160px] pb-[400px] rounded-[3px] flex justify-center max-xl:pt-[70px] max-md:pt-[156px] max-md:px-[10px]",children:(0,a.jsxs)("div",{className:"bg-[#FFFFFF] dark:bg-[#f9f9fc10] dark:border-[#0000001A] rounded-[20px] border-[1px] border-solid border-[#0000001A] py-[42px] px-[55px] align-center text-center max-w-[480px] max-xl:max-w-[420px] max-xl:px-[25px] max-xl:py-[35px] max-md:max-w-[309px] max-md:py-[20px] max-md:px-[27px]",children:[(0,a.jsx)("div",{className:"text-2xl font-semibold mb-6 -mt-4",children:"Connected Card"}),(0,a.jsxs)("div",{className:"flex space-x-3 text-lg",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{children:"Expiry: "}),(0,a.jsx)("div",{children:"Card Number:"})]}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{children:"".concat(r.card.exp_month,"/").concat(r.card.exp_year)}),(0,a.jsxs)("div",{children:["**** **** **** ",r.card.last_4]})]})]})]})}):(0,a.jsx)(b,{})})};var g=h}},function(e){e.O(0,[434,44,135,101,337,947,774,888,179],function(){return e(e.s=73789)}),_N_E=e.O()}]);